!function(){var e="/apps/dd",t=window.Shopify;function i(){if(t&&t.Checkout&&(t.Checkout.isOrderStatusPage||t.Checkout.page&&("thank_you"==t.Checkout.page||"checkout_one_thank_you"==t.Checkout.page))){var i="-",o=__st?__st.cid:null;t.checkout&&t.checkout.order_id?i=t.checkout.order_id:window.ddConfig&&window.ddConfig.order_id&&(i=window.ddConfig.order_id);document.head.insertAdjacentHTML("beforeend","<style>          .lds-ring {            display: inline-block;            position: relative;            width: 80px;            height: 80px;            left: 50%;            transform: translate(-50%, 0);            position: absolute;            top: 10%;          }          .lds-ring div {            box-sizing: border-box;            display: block;            position: absolute;            width: 64px;            height: 64px;            margin: 8px;            border: 5px solid #888;            border-radius: 50%;            animation: lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;            border-color: #888 transparent transparent transparent;          }          .lds-ring div:nth-child(1) {            animation-delay: -0.45s;          }          .lds-ring div:nth-child(2) {            animation-delay: -0.3s;          }          .lds-ring div:nth-child(3) {            animation-delay: -0.15s;          }          .dd-loader {            display: inline-block;            position: relative;            width: 34px;            height: 20px;            flex-shrink: 0;          }          .dd-loader div {            box-sizing: border-box;            display: block;            position: absolute;            width: 18px;            height: 18px;            border: 2px solid #888;            border-radius: 50%;            animation: lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;            border-color: #888 transparent transparent transparent;          }          .dd-loader div:nth-child(1) {            animation-delay: -0.45s;          }          .dd-loader div:nth-child(2) {            animation-delay: -0.3s;          }          .dd-loader div:nth-child(3) {            animation-delay: -0.15s;          }          @keyframes lds-ring {            0% {              transform: rotate(0deg);            }            100% {              transform: rotate(360deg);            }          }          @keyframes fadeIn {              0% { opacity: 0; }              100% { opacity: 1; }          }          @keyframes fadeOut {              0% { opacity: 1; }              100% { opacity: 0; }          }</style>"),function t(){r=document.createElement("div"),r.innerHTML="          <div style='opacity: 0;animation: fadeIn 0.5s;height: 100%; position: absolute; top: 0; bottom: 0; left: 0px; right: -20px; z-index: 9999; background: rgba(255,255,255,0.7);' class='dd-loading'>              <div class='lds-ring'>              <div></div><div></div><div></div><div></div>              </div>          </div>",document.querySelector(".sidebar").appendChild(r),document.querySelector(".dd-loading").style.opacity="1";var r;let a={method:"GET",headers:{}};const l=window.Shopify.shop;let s=[];Shopify?.checkout?.line_items&&(s=Shopify.checkout.line_items.map((e=>e.variant_id)));let c=e+"/order_status?host="+l+"&vids="+s.join(",");o&&(c+="&customer_id="+o);if(!i)return n(),void d();c+="&order_id="+i;fetch(c,a).then((e=>e.json())).then((o=>{if(n(),o?.show_loading_banner)try{!async function(){const t=window.Shopify.shop;if(document.querySelector(".dd-loading-banner")||"kompose-audio.myshopify.com"===t)return;let i=e+"/checkout_page_config?host="+t;const o=await fetch(i,{method:"GET",headers:{}}).then((e=>e.json())).then((e=>e.loading_banner_text)).catch((function(){return"We are preparing your download. Don't leave this page. It can take up to 3 min. You will also receive an email with your downloads."}));var d=document.createElement("div");d.innerHTML="        <div style='display: flex; align-items: center; border: 1px solid #96c6cc; background-color: #ebf9fb; padding: 12px 16px; border-radius: 0.5rem; margin-bottom: 10px;' class='dd-loading-banner'>        <div class='dd-loader'>        <div></div><div></div><div></div><div></div>        </div>        <div>"+o+"</div>        </div>",document.querySelector(".order-summary__sections").prepend(d)}()}catch(e){}if(o&&o.order_lines&&o.order_lines.length>0)!function(e,t){var i=document.querySelector(".dd-loading-banner");i&&i.remove();var o="padding:7px 11px; font-size: 12px; width: 100%; background: "+(t.btn_color?t.btn_color:"#333333")+"; color: white;";e.forEach((function(e){e.variant_ids&&Array.isArray(e.variant_ids)&&e.variant_ids.forEach((function(t){var i=document.querySelector("tr[data-product-id='"+e.product_id+"'][data-variant-id='"+t+"']");i&&i.insertAdjacentHTML("afterend","<tr><td style='padding:15px 0;text-align:left;' colspan='6'><a class='btn' target='_blank' href='"+e.download_url+"' style='"+o+";'>Download</a></td></tr>")}))}))}(o.order_lines,o.config);else if(o&&o.order_lines&&0===o.order_lines.length&&function(){var e="test";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}()){var d=!1,r=6e3,a=30,l=localStorage.getItem("dd_order_"+i);if(l){var s=JSON.parse(l);s.refresh_count<a&&(localStorage.setItem("dd_order_"+i,JSON.stringify({order_id:i,refresh_count:s.refresh_count+1})),d=!0)}else localStorage.setItem("dd_order_"+i,JSON.stringify({order_id:i,refresh_count:0})),d=!0;d&&setTimeout((()=>{t()}),r)}})).catch((function(){n(),d()}))}()}function d(){var e=document.querySelector(".product-table"),t=document.createElement("div");t.innerHTML="<div style='postion: relative; color: #fff; background-color: #555; text-align: center; position: relative; padding: 12px 15px; line-height: 22px; margin-bottom: 26px; border-radius: .25rem;'><div style=''>For orders with digital content, expect an email with downloads and/or license keys shortly.</div></div></div>",e.before(t)}function n(){var e=document.querySelector(".dd-loading");e&&(e.style.animation="fadeOut 0.5s",e.style.opacity="0",setTimeout((function(){e.remove()}),1e3))}}"loading"!==document.readyState?i():document.addEventListener("DOMContentLoaded",(function(){i()}))}();